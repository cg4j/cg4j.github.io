{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"CG4j","text":"<p>Call Graph Generation for Java</p> <p>CG4j is a command-line tool to build call graphs using Class Hierarchy Analysis (CHA) from Java programs and their dependencies.</p>"},{"location":"architecture/","title":"Architecture","text":"<p>This document shows the internal architecture and data flow of cg4j.</p>"},{"location":"architecture/#system-flow","title":"System Flow","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                         Input Phase                             \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                                \u2502\n                                \u25bc\n                    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n                    \u2502   Target JAR File     \u2502\n                    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                                \u2502\n                                \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                     Analysis Scope Setup                        \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                                \u2502\n                \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n                \u25bc               \u25bc               \u25bc\n        \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n        \u2502 Primordial   \u2502  \u2502Extension \u2502  \u2502Application \u2502\n        \u2502 (JDK/RT)     \u2502  \u2502 (Deps)   \u2502  \u2502 (Target)   \u2502\n        \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n               \u2502               \u2502               \u2502\n               \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                               \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502              Class Hierarchy Analysis (CHA)                     \u2502\n\u2502  \u2022 Builds inheritance tree                                      \u2502\n\u2502  \u2022 Resolves virtual method calls                                \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                               \u2502\n                               \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                   Entry Points Generation                       \u2502\n\u2502  \u2022 Find all public methods in Application loader                \u2502\n\u2502  \u2022 Skip Primordial and Extension classes                        \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                               \u2502\n                               \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                     0-CFA Call Graph Build                      \u2502\n\u2502  \u2022 Start from entry points                                      \u2502\n\u2502  \u2022 Use CHA to resolve method calls                              \u2502\n\u2502  \u2022 Iterate until fixpoint (no new edges)                        \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                               \u2502\n                               \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                    Edge Extraction (Stream API)                 \u2502\n\u2502  \u2022 Filter fake methods                                          \u2502\n\u2502  \u2022 Normalize boot methods to &lt;boot&gt;                             \u2502\n\u2502  \u2022 Filter RT classes (if includeRt=false)                       \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                               \u2502\n                               \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                      CSV Output                                 \u2502\n\u2502  source_method,target_method                                    \u2502\n\u2502  &lt;boot&gt;,org/slf4j/Logger.info:(...)                            \u2502\n\u2502  org/slf4j/Logger.info:(...),org/slf4j/helpers/...              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"architecture/#notes","title":"Notes","text":""},{"location":"architecture/#class-loaders","title":"Class Loaders","text":"<ul> <li>Primordial: Java runtime classes (JDK, RT jar) - standard library code</li> <li>Extension: Dependency JARs - external libraries your application uses</li> <li>Application: Target JAR being analyzed - your application code</li> </ul>"},{"location":"architecture/#keywords","title":"Keywords","text":"<ul> <li>RT (Runtime): Java runtime classes from the JDK (java., javax., etc.)</li> <li>: Placeholder for WALA's fake root methods used to bootstrap analysis <li>CHA (Class Hierarchy Analysis): Algorithm that uses inheritance tree to resolve method calls</li> <li>0-CFA: Zero-context-flow-insensitive analysis - fast call graph construction</li> <li>Entry Points: Starting methods for analysis (all public methods in Application loader)</li>"},{"location":"architecture/#wala-fake-methods","title":"WALA Fake Methods","text":"<p>WALA creates artificial methods for analysis bootstrapping: - <code>FakeRootClass.fakeRootMethod</code> - Artificial entry point that calls all real entry points - <code>FakeRootClass.fakeWorldClinit</code> - Artificial class initializer - These are normalized to <code>&lt;boot&gt;</code> in the output for clarity</p>"},{"location":"callgraph-basics/","title":"Call Graph Basics","text":"<p>This document explains the core concepts behind call graph generation in cg4j.</p>"},{"location":"callgraph-basics/#what-is-a-call-graph","title":"What is a Call Graph?","text":"<p>A call graph is a directed graph that represents calling relationships between methods in a program.</p> <ul> <li>Nodes: Methods in your program</li> <li>Edges: Method calls (A \u2192 B means \"method A calls method B\")</li> </ul> <p>Example:</p> <pre><code>main() \u2192 processData()\nprocessData() \u2192 readFile()\nprocessData() \u2192 writeFile()\n</code></pre>"},{"location":"callgraph-basics/#why-are-call-graphs-useful","title":"Why Are Call Graphs Useful?","text":"<ul> <li>Program understanding: Visualize how code flows through your application</li> <li>Impact analysis: Find what breaks when you change a method</li> <li>Security analysis: Trace paths to sensitive operations</li> <li>Dead code detection: Find unreachable methods</li> <li>Testing: Identify test coverage gaps</li> </ul>"},{"location":"callgraph-basics/#class-hierarchy-analysis-cha","title":"Class Hierarchy Analysis (CHA)","text":"<p>CHA is an algorithm that determines which method might be called at a call site.</p>"},{"location":"callgraph-basics/#the-problem","title":"The Problem","text":"<p>In object-oriented programs, method calls can be dynamic:</p> <pre><code>Animal a = getAnimal(); // Could be Dog, Cat, Bird...\na.speak();              // Which speak() method runs?\n</code></pre>"},{"location":"callgraph-basics/#how-cha-works","title":"How CHA Works","text":"<p>CHA uses the class hierarchy (inheritance tree) to find all possible targets:</p> <ol> <li>Look at the declared type (<code>Animal</code>)</li> <li>Find all subclasses (<code>Dog</code>, <code>Cat</code>, <code>Bird</code>)</li> <li>Include all implementations of the method (<code>speak()</code>)</li> </ol> <p>Result: Conservative approximation - includes all possible targets, may include some impossible ones.</p>"},{"location":"callgraph-basics/#cha-trade-offs","title":"CHA Trade-offs","text":"<p>\u2705 Pros: - Fast to compute - Simple to understand - Sound (won't miss real calls)</p> <p>\u274c Cons: - Over-approximates (includes impossible calls) - Less precise than flow-sensitive analysis</p>"},{"location":"callgraph-basics/#0-cfa-zero-context-flow-insensitive-analysis","title":"0-CFA (Zero Context-Flow-Insensitive Analysis)","text":"<p>0-CFA is a call graph construction algorithm that cg4j uses.</p>"},{"location":"callgraph-basics/#what-does-0-cfa-mean","title":"What Does \"0-CFA\" Mean?","text":"<ul> <li>0: Zero calling context (doesn't track call chains)</li> <li>C: Context-sensitive</li> <li>F: Flow-insensitive (ignores execution order)</li> <li>A: Analysis</li> </ul>"},{"location":"callgraph-basics/#how-0-cfa-works","title":"How 0-CFA Works","text":"<ol> <li>Start with entry points</li> <li> <p>In cg4j: all public methods</p> </li> <li> <p>For each method reachable:</p> </li> <li>Find all method calls in its body</li> <li>Use CHA to determine possible targets</li> <li>Add edges to the call graph</li> <li> <p>Add newly discovered methods to the worklist</p> </li> <li> <p>Repeat until no new methods are discovered</p> </li> </ol>"},{"location":"callgraph-basics/#example","title":"Example","text":"<pre><code>// Entry point\npublic void main() {\n    Animal a = new Dog();\n    a.speak();  // CHA finds: Dog.speak(), Cat.speak(), Bird.speak()\n}\n\nclass Dog extends Animal {\n    public void speak() { bark(); }\n    private void bark() { }\n}\n</code></pre> <p>Call graph edges:</p> <pre><code>main() \u2192 Dog.speak()\nmain() \u2192 Cat.speak()    // CHA conservatively includes this\nmain() \u2192 Bird.speak()   // And this\nDog.speak() \u2192 Dog.bark()\n</code></pre> <p>Even though we know <code>a</code> is a <code>Dog</code>, 0-CFA with CHA includes all possible subtypes.</p>"},{"location":"callgraph-basics/#how-cg4j-builds-call-graphs","title":"How cg4j Builds Call Graphs","text":"<ol> <li>Load JAR file and dependencies</li> <li>Find entry points (all public methods)</li> <li>Build class hierarchy from loaded classes</li> <li>Run 0-CFA algorithm:</li> <li>Process each reachable method</li> <li>Use CHA to resolve method calls</li> <li>Expand the call graph iteratively</li> <li>Output CSV with source \u2192 target edges</li> </ol>"},{"location":"callgraph-basics/#limitations","title":"Limitations","text":""},{"location":"callgraph-basics/#what-cg4j-handles","title":"What cg4j Handles","text":"<p>\u2705 Direct method calls \u2705 Virtual method calls (using CHA) \u2705 Constructor calls \u2705 Static method calls</p>"},{"location":"callgraph-basics/#what-cg4j-may-miss","title":"What cg4j May Miss","text":"<p>\u274c Reflection (<code>Method.invoke()</code>) \u274c Dynamic proxy calls \u274c Lambda expressions (depends on WALA support) \u274c Native methods</p>"},{"location":"callgraph-basics/#key-terminology","title":"Key Terminology","text":"Term Meaning Static call Direct method call, target known at compile-time Virtual call Method call through object reference, resolved at runtime Entry point Starting method for analysis (e.g., <code>main()</code>, public methods) Reachable Method that can be called from an entry point Call site Location in code where a method call occurs Receiver type Type of object on which a method is called"},{"location":"callgraph-basics/#further-reading","title":"Further Reading","text":"<ul> <li>WALA Documentation</li> <li>Call Graph Construction Algorithms (Academic paper)</li> <li>Static Analysis Overview</li> </ul>"},{"location":"callgraph-basics/#quick-reference","title":"Quick Reference","text":"What You Want What You Get Fast analysis \u2705 CHA is very fast Perfect precision \u274c Over-approximates possible calls Handle reflection \u274c Not supported Sound results \u2705 Won't miss real calls (for supported features) Scale to large programs \u2705 Efficient for large codebases"}]}